Metadata-Version: 2.4
Name: twiddle-sdk
Version: 0.1.0
Summary: Twiddle Python SDK - CLI tools for Temporal workflow development
Author: Twiddle Team
License: Apache-2.0
Project-URL: Homepage, https://github.com/twiddle/twiddle-sdk
Project-URL: Documentation, https://github.com/twiddle/twiddle-sdk#readme
Project-URL: Repository, https://github.com/twiddle/twiddle-sdk
Keywords: temporal,workflow,sdk,twiddle,cli
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Environment :: Console
Classifier: Topic :: Software Development :: Code Generators
Classifier: Typing :: Typed
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: twiddle-dsl>=1.0.0
Requires-Dist: click>=8.0.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"

# Twiddle SDK

CLI tools for building Temporal and Airflow workflows with the Twiddle visual workflow editor.

## Installation

```bash
pip install twiddle-sdk
```

This will also install `twiddle-dsl` as a dependency.

## Commands

### Version

Display SDK and DSL versions:

```bash
twiddle version
```

### Init

Create a new Twiddle project:

```bash
twiddle init myproject
```

Options:
- `--template, -t`: Project template (`basic` or `full`)
- `--output, -o`: Output directory

### Lint

Lint Twiddle Python code for DSL conformity:

```bash
twiddle lint src/
twiddle lint src/ --target temporal   # Default
twiddle lint src/ --target airflow    # Airflow-specific rules
```

Options:
- `--format, -f`: Output format (`text` or `json`)
- `--target, -T`: Target platform (`temporal` or `airflow`)

### Convert

Convert Twiddle Python code to a target application:

```bash
# Convert to Temporal (default)
twiddle convert src/ -o temporal_output/

# Convert to Airflow DAG
twiddle convert src/ -o airflow_output/ --target airflow
```

Options:
- `--output, -o`: Output directory for generated files
- `--name, -n`: Workflow name to use
- `--target, -T`: Target platform (`temporal` or `airflow`)

## Workflow Example

1. Create a new project:
   ```bash
   twiddle init myworkflow
   cd myworkflow
   ```

2. Install dependencies:
   ```bash
   python -m venv .venv
   source .venv/bin/activate
   pip install -e ".[dev]"
   ```

3. Edit activities in `src/activities/`

4. Lint your code:
   ```bash
   twiddle lint src/
   ```

5. Convert to Temporal:
   ```bash
   twiddle convert src/ -o temporal_output/
   ```

6. Convert to Airflow:
   ```bash
   twiddle convert src/ -o airflow_output/ --target airflow
   ```

## Linting Rules

### Common Rules

| Rule | Severity | Description |
|------|----------|-------------|
| TWD001 | Error | Activity must have @activity decorator |
| TWD003 | Warning | Activity should accept input_data parameter |
| TWD004 | Warning | Activity should have return type annotation |
| TWD005 | Error | Workflow class must have @workflow decorator |
| TWD006 | Error | Workflow must have run() method |
| TWD007 | Info | Parameter should use Parameter() class |

### Temporal-specific Rules

| Rule | Severity | Description |
|------|----------|-------------|
| TWD002 | Error | Activity function must be async def |

### Airflow-specific Rules

| Rule | Severity | Description |
|------|----------|-------------|
| TWD010 | Warning | Airflow tasks typically use sync functions |
| TWD011 | Info | Airflow tasks should accept **kwargs for context |

## License

Apache-2.0

